
#Change Identity Sign#
========================
(+) Add,
(*) Update,
(-) Remove

Date: 25-10-2023
================
+DemageMaster Table
	
		USE [AzlanFoodDb]
		GO

		/****** Object:  Table [Erp].[DemageMaster]    Script Date: 10/25/2023 2:25:34 PM ******/
		SET ANSI_NULLS ON
		GO

		SET QUOTED_IDENTIFIER ON
		GO

		CREATE TABLE [Erp].[DemageMaster](
			[DemageMasterId] [int] IDENTITY(1,1) NOT NULL,
			[OperationDate] [datetime] NOT NULL,
			[DemageFromId] [int] NOT NULL,
			[FromDeportId] [int] NULL,
			[FromDealerId] [int] NULL,
			[FromCustomerId] [int] NULL,
			[ToDeportId] [int] NULL,
			[ToDealerId] [int] NULL,
			[ToStockInfoId] [int] NULL,
			[StatusId] [int] NOT NULL,
			[Remarks] [nvarchar](500) NULL,
			[CompanyId] [int] NOT NULL,
			[CreatedBy] [nvarchar](128) NOT NULL,
			[CreateDate] [datetime] NULL,
			[ModifiedBy] [nvarchar](128) NULL,
			[ModifiedDate] [datetime] NULL,
			[IsActive] [bit] NOT NULL,
		 CONSTRAINT [PK_DemageMaster] PRIMARY KEY CLUSTERED 
		(
			[DemageMasterId] ASC
		)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		GO

		ALTER TABLE [Erp].[DemageMaster] ADD  CONSTRAINT [DF_DemageMaster_DemageFromId]  DEFAULT ((0)) FOR [DemageFromId]
		GO

		ALTER TABLE [Erp].[DemageMaster] ADD  CONSTRAINT [DF_DemageMaster_IsActive]  DEFAULT ((1)) FOR [IsActive]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_Company] FOREIGN KEY([CompanyId])
		REFERENCES [dbo].[Company] ([CompanyId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_Company]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_Customer] FOREIGN KEY([FromCustomerId])
		REFERENCES [Erp].[Vendor] ([VendorId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_Customer]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_StockInfo] FOREIGN KEY([ToStockInfoId])
		REFERENCES [Erp].[StockInfo] ([StockInfoId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_StockInfo]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_ToDealerVendor] FOREIGN KEY([ToDealerId])
		REFERENCES [Erp].[Vendor] ([VendorId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_ToDealerVendor]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_ToDeportVendor] FOREIGN KEY([ToDeportId])
		REFERENCES [Erp].[Vendor] ([VendorId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_ToDeportVendor]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_VendorDealer] FOREIGN KEY([FromDealerId])
		REFERENCES [Erp].[Vendor] ([VendorId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_VendorDealer]
		GO

		ALTER TABLE [Erp].[DemageMaster]  WITH CHECK ADD  CONSTRAINT [FK_DemageMaster_VendorDeport] FOREIGN KEY([FromDeportId])
		REFERENCES [Erp].[Vendor] ([VendorId])
		GO

		ALTER TABLE [Erp].[DemageMaster] CHECK CONSTRAINT [FK_DemageMaster_VendorDeport]
		GO




+DemageDetail

		USE [AzlanFoodDb]
		GO

		/****** Object:  Table [Erp].[DemageDetail]    Script Date: 10/25/2023 2:27:11 PM ******/
		SET ANSI_NULLS ON
		GO

		SET QUOTED_IDENTIFIER ON
		GO

		CREATE TABLE [Erp].[DemageDetail](
			[DemageDetailId] [int] IDENTITY(1,1) NOT NULL,
			[DemageMasterId] [int] NOT NULL,
			[ProductId] [int] NOT NULL,
			[DemageTypeId] [int] NOT NULL,
			[DemageQty] [float] NOT NULL,
			[UnitPrice] [decimal](18, 2) NOT NULL,
			[TotalPrice] [float] NOT NULL,
			[Remarks] [nvarchar](500) NULL,
			[IsActive] [bit] NOT NULL,
			[CreatedBy] [nvarchar](128) NOT NULL,
			[CreateDate] [datetime] NOT NULL,
			[ModifiedBy] [nvarchar](128) NULL,
			[ModifiedDate] [datetime] NULL,
		 CONSTRAINT [PK_DemageDetail] PRIMARY KEY CLUSTERED 
		(
			[DemageDetailId] ASC
		)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
		) ON [PRIMARY]
		GO

		ALTER TABLE [Erp].[DemageDetail] ADD  CONSTRAINT [DF_DemageDetail_DemageTypeId]  DEFAULT ((0)) FOR [DemageTypeId]
		GO

		ALTER TABLE [Erp].[DemageDetail] ADD  CONSTRAINT [DF_DemageDetail_DemageQty]  DEFAULT ((0)) FOR [DemageQty]
		GO

		ALTER TABLE [Erp].[DemageDetail] ADD  CONSTRAINT [DF_DemageDetail_UnitPrice]  DEFAULT ((0)) FOR [UnitPrice]
		GO

		ALTER TABLE [Erp].[DemageDetail] ADD  CONSTRAINT [DF_Table_1_TotalQty]  DEFAULT ((0)) FOR [TotalPrice]
		GO

		ALTER TABLE [Erp].[DemageDetail] ADD  CONSTRAINT [DF_DemageDetail_IsActive]  DEFAULT ((1)) FOR [IsActive]
		GO

		ALTER TABLE [Erp].[DemageDetail]  WITH CHECK ADD  CONSTRAINT [FK_DemageDetail_DemageMaster] FOREIGN KEY([DemageMasterId])
		REFERENCES [Erp].[DemageMaster] ([DemageMasterId])
		GO

		ALTER TABLE [Erp].[DemageDetail] CHECK CONSTRAINT [FK_DemageDetail_DemageMaster]
		GO

		ALTER TABLE [Erp].[DemageDetail]  WITH CHECK ADD  CONSTRAINT [FK_DemageDetail_Product] FOREIGN KEY([ProductId])
		REFERENCES [Erp].[Product] ([ProductId])
		GO

		ALTER TABLE [Erp].[DemageDetail] CHECK CONSTRAINT [FK_DemageDetail_Product]
		GO




